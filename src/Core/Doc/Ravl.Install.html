<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--! docentry="Ravl.Installation" -->
<html>
  <head>
    <title>RAVL Installation instructions</title>
  </head>

  <body>

    <p> These instructions were developed for a Linux environment.  They
    should work for most Unix-type environments.  There are also instructions
    for compiling RAVL under <a href="Ravl.Installation.Windows.html">Microsoft
    Windows</a>.</p>

    <h2>RAVL Prerequisites</h2>

    <p> Building the RAVL library requires the use of an ANSI C++ compiler
    along with the <a href="http://www.gnu.org/software/make">GNU make</a>
    utility (or another compatible version of make). The RAVL build process is
    actually managed by the <a href="Ravl.QMake.html"><dfn>QMake</dfn></a>
    utility. QMake is a flexible compilation aid, designed to provide a simpler
    interface to the GNU make program. As part of the RAVL installation process,
    a copy of QMake will be configured and installed.
    </p>

    <p>The functionality provided by the RAVL library may be extended by the
    use of certain third-party libraries. For instance, using the libraries
    written by the <a href="http://ffmpeg.org">FFmpeg</a> project allows
    RAVL to process many types of multimedia files. A partial list of such
    libraries may be found <a href="Ravl.Installation.Contrib.html">here</a>.
    </p>

    <p>Any compatible third-party libraries that are installed on your system
    will automatically be utilised by RAVL. All the installer needs to do is
    ensure they are installed prior to running the RAVL configure program. We
    recommend that the <a href="http://www.gtk.org">gtk 2.0 library</a> is
    installed on your machine; much of RAVL will not be built if gtk is not
    installed.</p>

    
    <h2>Disk space requirements</h2> 

    <p> The amount of disk space required to build RAVL will vary depending
    both on the amount of extra functionality that gets built into RAVL
    (available third-party libraries) and on your particular system or compiler
    in use. We suggest that you budget for a requirement of around 10G of disk
    space.</p>

    <h2>Obtaining the RAVL source</h2> 

    <p> The RAVL source code is freely available either directly from the
<a href=http://sourceforge.net/p/ravl/ravl>RAVL Git repository</a>
    hosted on 
<a href=http://sourceforge.net>SourceForge</a>
    or as a tar archive of the latest formal release in the
<a href=http://sourceforge.net/projects/ravl/files/RAVL>RAVL distribution area</a>
    . The Git repository has the advantage of making available any RAVL
    enhancments that were made after the most recent formal release.</p>

    <h3>Obtaining the latest RAVL source from the Git repository</h3>

    <p>To download the RAVL source code from the Git repository, you will need
    to have the <a href=http://git-scm.com>Git</a> toolset installed on your
    computer. You will then be able to clone a copy of the repository to your
    computer and checkout an appropriate copy of the RAVL source code.</p>

    <p> On cloning the RAVL repository to your machine, you will immediately
    have the very latest version of RAVL available. However, this may be an
    untested developmental copy of the source code. We suggest that you
    checkout the tested_nightly branch as this reflects the copy of the source
    that has been most recently tested.</p>

    <p> To download and checkout the most recent tested version of RAVL please
    execute the following commands where you wish to install the RAVL source:
    </p>
    <pre>
    <kbd>git clone git://git.code.sf.net/p/ravl/ravl ravl</kbd>
    <kbd>cd ravl</kbd>
    <kbd>git checkout tested_nightly</kbd>
    </pre>

    <h3>Obtaining the RAVL tar archive</h3>

    <p>The RAVL source code is also available on sourceforge as a tar archive.
    The RAVL tar archive contains the source-code of the most recent formal
    release of RAVL. As of this document, the current release version is 1.1.9
    and is available
<a href=http://sourceforge.net/projects/ravl/files/RAVL/1.1/RAVL-1.1.9.tgz/download>here</a>
    . The
<a href=http://sourceforge.net/projects/ravl/files/RAVL>RAVL distribution area on sourceforge</a>
    contains all available versions of the RAVL source and will contain any
    version that has been released after these instructions were written. If
    you download a later version of the source from the distribution area, the
    name of the tar archive in the following procedure will need to be changed
    to reflect this.</p>

    <p>To extract the RAVL source from the distribution tar archive, please
    execute the following</p>
    <pre>
    <kbd>tar -xvzf ./RAVL-1.1.9.tgz</kbd>
    <kbd>cd ravl</kbd>
    </pre>

    <h2>Building and installing RAVL</h2>

    <p>If you have followed the above procedure for obtaining and installing
    the RAVL source code (either from the git repository or the tar archive),
    you should find yourself in the top-level "ravl" directory of the
    source-tree. You may then execute the following commands to build and
    install the RAVL libraries and applications:</p>
    <pre>
    <kbd>./configure </kbd>
    <kbd>make </kbd>
    <kbd>sudo make install</kbd>
    </pre>

    <p>You are now ready to begin programming with RAVL. Full documentation for
    the RAVL classes can then be found via the index
    <a href=../index.html>here</a> or from the <a href=Ravl.html>search page</a>,
    while an introductory guide to writing a RAVL program is available
    <a href=Ravl.Introduction.Getting_Started.html>here</a>.</p>


    <h2 id="advinst">Advanced Installation</h2>

    <p>This section details some of the more advanced concepts and command-line
    switches that can be used with the configure utility should the need arise.</p>

    <p>The default directories where RAVL is installed may be changed by adding
    the command-line switch <kbd>--prefix=</kbd><var>dir</var> to the configure
    command. This modifies the base installation directory from <code>/usr/local</code>
    to whatever value of <var>dir</var> the user supplies. For example:
    <pre>
    <kbd>./configure --prefix=$HOME</kbd></pre>

    will cause a subsequent '<kbd>make install</kbd>' to place RAVL under the
    user's home directory.  With the use of differing command-line switches,
    it is possible to re-direct where individual types of file are directed;
    for example:
    <pre>
    <kbd>./configure --libdir=$HOME/RavlLibs</kbd></pre>

    will redirect where the RAVL libraries are installed to. For a full list
    of options to re-direct individual file types, along with all of the 
    available command line options for configure, see the output from running
    <pre>
    <kbd>./configure --help=recursive</kbd></pre></p>

    <p>If you install RAVL outside of the standard installtion location you will
    need to ensure that the RAVL binaries are in a location specified in your
    PATH environment variable and that the RAVL libraries themselves are in a
    directory that the system's loader will look in. Configuring the loader to
    find the RAVL libraries is  achieved either by adding the RAVL lib directory
    to the loader's configuration file (usually /etc/ld.so.conf or /etc/ld.conf)
    or by adding the directory to $LD_LIBRARY_PATH.</p>
    
    <p>The configure program tailors the RAVL source to the environment present
    on your machine. Running configure will generate a <dfn>Config.Project</dfn>
    file that records how RAVL has been set up. This file drives how RAVL is
    built and what features are enabled.</p>

    <p>Configure will attempt to locate all of the optional external libraries
    that RAVL can employ, enabling the functionality for all those it finds.
    Those it does not find are dropped and their functionality is not included
    in RAVL.</p>

    <p>A <kbd>--with-</kbd><var>lib</var> configure switch is provided to
    actively demand that library '<var>lib</var>' be used. If this request is
    made but the library is not found, configure will error out. The 
    <kbd>--with-</kbd><var>lib</var> switch may be set to '<var>N</var>';
    '<var>No</var>'; etc. to disable any particular library from use. The switch
    <kbd>--without-</kbd><var>lib</var> has the same effect. For example:
    <pre>
    <kbd>./configure --with-OpenCV=N --with-libPNG</kbd></pre>
    is equivalent to
    <pre>
    <kbd>./configure --without-OpenCV --with-libPNG=Y</kbd></pre>

    and explicitly disables the use of OpenCV by RAVL (even if OpenCV is
    installed on the machine) while requiring libPNG.</p>

    <p>The configure program uses the
    <a href=http://www.freedesktop.org/wiki/Software/pkg-config>pkg-config</a>
    utility to locate the third-party libraries that RAVL can use. If the
    pkg-config meta file for a third-party library is not available in its
    usual location, configure provides an option to tell the configuration
    process where the file resides:</p>
    <pre>
    <kbd>--with-</kbd><var>lib</var><kbd>-pkgconf=</kbd><var>path-to/meta-file</var>

        For external libraries that support pkg-config, this switch 
        allows the user to specify the location and name of a pkg-config
        file for a particular library, <var>lib</var>.

        For example:

        <kbd>./configure --with-OpenCV-pkgconf=/opt/lib/pkg-config/opencv.pc</kbd>

        instructs the configuration process to use the specified file,
        <code>/opt/lib/pkg-config/opencv.pc</code>, as the pkg-config meta file. This
        enables the user to instruct RAVL to be built using a particular
        version of a third-party library.</pre>

    <p>Some of the third-party libraries  (LibJasper, LibTIFF, Zlib, JPEG and
    posixThreads) that may be used by RAVL do not support the pkg-config utility.
    To allow configuration with these, configure provides the command-line
    options:
    <pre>
    <kbd>--with-</kbd><var>lib</var><kbd>-include=</kbd><var>path-to-include-files</var>

        For libraries that do not normally use pkg-config (and those
        alone), this switch provides a mechanism for declaring where
        the library's header file(s) can be found.

    <kbd>--with-</kbd><var>lib</var><kbd>-library=</kbd><var>path-to/library-name</var>

        As for <kbd>--with-</kbd><var>lib</var><kbd>-include</kbd>, this is only provided for those
        libraries that do not normally support pkg-config. It allows
        declaration of both where the third party library may be found
        and also allows its name to be specified. When specifying the
        name of the library, do not include any format extension (the
        .a or .so suffix).</pre>

    <p>These two switches are typically used in tandem to override the
    defaults associated with a particular library. For example:</p>
    <pre>
    <kbd>./configure --with-JPEG-include=/opt/libjpeg-turbo/include \
                     --with-JPEG-library=/opt/libjpeg-turbo/lib/libjpeg</kbd></pre>

    <p>will employ libjpeg-turbo instead of the more usual JPEG library.
    As the libjpeg-turbo library is a direct, drop-in replacement for the
    JPEG library, use of these switches allows RAVL to use libjpeg-turbo's
    more optimal code on machines where it is installed.</p>

    <p>Setting any of these <kbd>--with-</kbd><var>lib-xxx</var> switches 
implies <kbd>--with-</kbd><var>lib</var> and thus mandates that configure
find and enable the library or error out. </p>

    <p>The RAVL build process uses the default compiler available in your system
path. Should you wish to change this, prior to running configure, set the
environment variables <dfn>CC</dfn> and/or <dfn>CXX</dfn> to the location(s) of the C and C++
compilers you wish to use. Other influential environment variables allow
for the redefinition of other commands for the build process to use or to
allow the specification of extra <dfn>CFLAGS</dfn> to use.</p>

    <p>A full list of configure's available command-line switches and significant
environment variables may be seen by issuing the command:
    <pre>
    <kbd>./configure --help=recursive</kbd></pre>

    By executing configure in a directory away from where you installed the RAVL
source, it is possible to separate out the build and source locations. For
instance, if you had the RAVL source installed under /usr/src/RAVL, the
commands:

    <pre>
    <kbd>mkdir ~/MyRavlBuild
    cd ~/MyRavlBuild
    /usr/src/RAVL/configure
    make
    make install</kbd></pre>

will use the RAVL source from the centrally installed copy and build RAVL itself
into the directory user's local HOME.</p>



    <h2> See also </h2>

    <p> See also the README file in the distribution.</p>


    <hr>
    <address><a href="mailto:w.christmas@surrey.ac.uk">Bill Christmas</a></address>
<!-- Created: Fri Dec 23 09:31:09 GMT 2005 -->
<!-- hhmts start -->
Last modified: Fri Mar 04 11:12:37 GMT 2016
<!-- hhmts end -->
  </body>
</html>
